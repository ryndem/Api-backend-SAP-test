//using Core.CrudTools.Optimization;
using Proxy.ProquifaDotNet.CrudTools;
using Proxy.ProquifaDotNet.Model;
using Microsoft.AspNetCore.Authentication.JwtBearer;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;
using Core.VentaDigitalPQF.Dto.Product;
using Core.VentaDigitalPQF.ExceptionHandler;
using Logic.VentaDigitalPQF.Interfaces.Product;
using Core.VentaDigitalPQF.CrudTools;
using Core.VentaDigitalPQF.Dto.Address;
using Newtonsoft.Json;
using Core.VentaDigitalPQF.Dto.ProductCustomerWeb.SearchSuggestion;

// For more information on enabling Web API for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860

namespace VentaDigitalPQF.Controllers.Producto
{
    [Route( "[controller]" )]
    [ApiController]
    //[Authorize] 
    public class ProductWebController : ControllerBase
    {
        
        private readonly IProductWebService _productService;
        public ProductWebController(IProductWebService productService)
        {
            _productService = productService;
        }

        // GET api/<Producto>/Guid

        /// <summary>
        /// Obtiene datos de un producto
        /// </summary>
        /// <param name="IdProduct"></param>
        /// <param name="IdCustomer"></param>
        /// <param name="IdDeliveryAddress"></param>
        /// <returns>Retorna Detalles de producto con su oferta</returns>
        /// <remarks>
        /// Sample request:
        ///
        ///     GET /Producto/IdProduct
        ///     {
        ///        
        ///     }
        ///
        /// </remarks>
        /// <response code="201">Retorna objeto de producto</response>
        /// <response code="400">No se encuentra el objeto producto</response>

        [HttpGet( "{IdProduct}" )]
        public async Task<ActionResult<ProductDetails>> Get( Guid IdProduct)
        {
            var json = "{\"idProduct\":\"c8336e50-e948-412a-a82f-05750f0adcac\",\"hasCAS\":true,\"cas\":\"125971-95-1\",\"atc\":null,\"catalog\":\"PHR1874-30MG\",\"description\":\"Atorvastatin Related Compound I, pharmaceutical secondary standard, certified reference material\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"30\",\"transportationMeans\":\"Terrestre\",\"transportationMeansKey\":\"terrestre\",\"transportHandling\":\"Ambiente\",\"transportHandlingKey\":\"ambiente\",\"storageHandling\":\"Ambiente\",\"storageHandlingKey\":\"ambiente\",\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"SUPELCO\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"nofarmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":1211.0,\"deliveryTime\":\"20 Dias\",\"deliveryTimeDays\":20.0,\"deliveryTimeDate\":\"2024-08-08T00:00:00.000-06:00Z\",\"appliesPerPiece\":false,\"idDeliveryAddress\":\"48171366-5737-48d3-b758-9f5edb4cdb9b\"}}";
            ProductDetails producto = JsonConvert.DeserializeObject<ProductDetails>( json );
            return Ok( producto );
        }
        [HttpPost("")]
        public async Task<ActionResult<QueryResultVD<ProductDetails>>> Post( QueryInfoVD info )
        {
            //var producto = await _productService.GetProducts( info, new ProductCustomerWebRequest() {  } );
            var json = "{\r\n    \"totalResults\": 33393,\r\n    \"results\": [\r\n        {\r\n            \"idProduct\": \"db94c77e-b630-40c1-b83b-0000109bb1ad\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"99300-78-4\",\r\n            \"atc\": null,\r\n            \"catalog\": \"V-031-50MG\",\r\n            \"description\": \"Venlafaxine HCl\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"50.000000\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"tlc\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"TLC\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 675.0,\r\n                \"deliveryTime\": \"20 Dias\",\r\n                \"deliveryTimeDays\": 20.0,\r\n                \"deliveryTimeDate\": \"2024-08-08T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"cce35d32-02e5-4622-8cfd-00027c6e905d\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"103-90-2\",\r\n            \"atc\": null,\r\n            \"catalog\": \"371\",\r\n            \"description\": \"paracetamol\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"100\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"BP\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 417.0,\r\n                \"deliveryTime\": \"30 Dias\",\r\n                \"deliveryTimeDays\": 30.0,\r\n                \"deliveryTimeDate\": \"2024-08-22T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"35da260e-86f0-477a-8240-0003cf3bff39\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"120-71-8\",\r\n            \"atc\": null,\r\n            \"catalog\": \"N-10389-250MG\",\r\n            \"description\": \"2-Methoxy-5-methylaniline\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"250.000000\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"CHEMSERVICE\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 93.0,\r\n                \"deliveryTime\": \"25 Dias\",\r\n                \"deliveryTimeDays\": 25.0,\r\n                \"deliveryTimeDate\": \"2024-08-15T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": true,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"18e66bb1-15a4-41a0-a854-0005c711af7e\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"\",\r\n            \"atc\": null,\r\n            \"catalog\": \"1005-185\",\r\n            \"description\": \"Grade 5 Qualitative Filter Paper Standard Grade, circle, 185 mm\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"100\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Labware\",\r\n            \"typeKey\": \"labware\",\r\n            \"brandName\": \"WHATMAN\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 78.0,\r\n                \"deliveryTime\": \"30 Dias\",\r\n                \"deliveryTimeDays\": 30.0,\r\n                \"deliveryTimeDate\": \"2024-08-22T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"cb5cf4bc-4cb5-44cf-b6f3-0009cc142a3c\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"867-81-2\",\r\n            \"atc\": null,\r\n            \"catalog\": \"PA 19 58000-25MG\",\r\n            \"description\": \"Sodium Pantothenate - API\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"25.000000\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"pharmaffiliates\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"PHARMAFFILIATES\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 324.0,\r\n                \"deliveryTime\": \"30 Dias\",\r\n                \"deliveryTimeDays\": 30.0,\r\n                \"deliveryTimeDate\": \"2024-08-22T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"6104f63c-7b70-4de9-ae6b-000b61ddce46\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"100-02-7\",\r\n            \"atc\": null,\r\n            \"catalog\": \"1003064\",\r\n            \"description\": \"Acetaminophen Related Compound F (50 mg) (p-nitrophenol)\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"50\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"USP\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"USP\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 1036.0,\r\n                \"deliveryTime\": \"10 Dias\",\r\n                \"deliveryTimeDays\": 10.0,\r\n                \"deliveryTimeDate\": \"2024-08-01T00:00:00.000Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"3214c6e3-726e-49d3-99de-000df3773376\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"65-85-0\",\r\n            \"atc\": null,\r\n            \"catalog\": \"Y0001470\",\r\n            \"description\": \"Benzoic acid CRS\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"30 mg\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"ep\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"EP\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 198.0,\r\n                \"deliveryTime\": \"25 Dias\",\r\n                \"deliveryTimeDays\": 25.0,\r\n                \"deliveryTimeDate\": \"2024-08-15T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"1cae79f2-2288-4802-8acd-00103c888a93\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"6533-68-2\",\r\n            \"atc\": null,\r\n            \"catalog\": \"H1500000\",\r\n            \"description\": \"Hyoscine hydrobromide CRS\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"50 mg\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"ep\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"EP\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 198.0,\r\n                \"deliveryTime\": \"25 Dias\",\r\n                \"deliveryTimeDays\": 25.0,\r\n                \"deliveryTimeDate\": \"2024-08-15T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"fe9ee636-6681-4550-bf1f-00135cdf9952\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"67-68-5\",\r\n            \"atc\": null,\r\n            \"catalog\": \"D479380-250ML+HPLC\",\r\n            \"description\": \"Dimethyl Sulfoxide + HPLC por molécula\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"250.000000\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"toronto_research_chemicals_inc_\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"TORONTO RESEARCH CHEMICALS INC.\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 183.0,\r\n                \"deliveryTime\": \"30 Dias\",\r\n                \"deliveryTimeDays\": 30.0,\r\n                \"deliveryTimeDate\": \"2024-08-22T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"d1fb9b1d-c63e-4874-aa6f-0015c73ff6ce\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"823817-58-9\",\r\n            \"atc\": null,\r\n            \"catalog\": \"S060010A-100MG\",\r\n            \"description\": \"Sitagliptin S-Isomer Phosphate\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"100.000000\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"SIMSON\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 851.0,\r\n                \"deliveryTime\": \"22 Dias\",\r\n                \"deliveryTimeDays\": 22.0,\r\n                \"deliveryTimeDate\": \"2024-08-12T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": true,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"13642521-188a-446c-961a-001627fe3543\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"5714-73-8\",\r\n            \"atc\": null,\r\n            \"catalog\": \"1409502\",\r\n            \"description\": \"Methenamine Hippurate (200 mg)\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"200\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"USP\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"USP\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 378.0,\r\n                \"deliveryTime\": \"10 Dias\",\r\n                \"deliveryTimeDays\": 10.0,\r\n                \"deliveryTimeDate\": \"2024-08-01T00:00:00.000Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"1fcf41ca-b6f2-4799-ba8d-0019064f3cc9\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"N/A\",\r\n            \"atc\": null,\r\n            \"catalog\": \"894\",\r\n            \"description\": \"Budesonide impurity standard\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"10\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"BP\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 362.0,\r\n                \"deliveryTime\": \"30 Dias\",\r\n                \"deliveryTimeDays\": 30.0,\r\n                \"deliveryTimeDate\": \"2024-08-22T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"a5f77480-23e1-4e88-8158-001bfe8abe75\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"N/D\",\r\n            \"atc\": null,\r\n            \"catalog\": \"08502\",\r\n            \"description\": \"1,10-FENANTROLINA A.C.S.\",\r\n            \"presentationType\": \"Frasco\",\r\n            \"presentationTypeKey\": \"frasco\",\r\n            \"presentation\": \"5\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Reactivos\",\r\n            \"typeKey\": \"reactivos\",\r\n            \"brandName\": \"FERMONT\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 86.0,\r\n                \"deliveryTime\": \"12 Dias\",\r\n                \"deliveryTimeDays\": 12.0,\r\n                \"deliveryTimeDate\": \"2024-08-01T00:00:00.000Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"0cb87d86-286d-4e50-bd07-001d70038c62\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"N/D\",\r\n            \"atc\": null,\r\n            \"catalog\": \"1A04180\",\r\n            \"description\": \"N-Nitroso Quinapril Solution (1 mL (1 mg/mL)) ((S)-2-(N-((S)-1-ethoxy-1-oxo-4-phenylbutan-2-yl)-N-nitroso-L-alanyl)-1,2,3,4-tetrahydroisoquinoline-3-carboxylic acid)\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"1\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"USP\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"USP\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 591.0,\r\n                \"deliveryTime\": \"10 Dias\",\r\n                \"deliveryTimeDays\": 10.0,\r\n                \"deliveryTimeDate\": \"2024-08-01T00:00:00.000Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"1dd347c3-9eb4-4ea7-b5ea-001f168706bb\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \" \",\r\n            \"atc\": null,\r\n            \"catalog\": \"QCS-23-100\",\r\n            \"description\": \"23 Component ICP QC Standard in 5% HNO3\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"100.000000\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"HIGH PURITY\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 579.0,\r\n                \"deliveryTime\": \"25 Dias\",\r\n                \"deliveryTimeDays\": 25.0,\r\n                \"deliveryTimeDate\": \"2024-08-15T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"0b991755-287b-4f36-852c-002122212a15\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"117810-61-4\",\r\n            \"atc\": null,\r\n            \"catalog\": \"L-1027-100MG\",\r\n            \"description\": \"Desloratadine USP Related Compound F (N-Formyl Desloratadine)\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"100\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"tlc\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"TLC\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 1283.0,\r\n                \"deliveryTime\": \"20 Dias\",\r\n                \"deliveryTimeDays\": 20.0,\r\n                \"deliveryTimeDate\": \"2024-08-08T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"647aa59e-54f7-4de4-baa1-00217314300b\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"67-97-0\",\r\n            \"atc\": null,\r\n            \"catalog\": \"DRE-CA17924000\",\r\n            \"description\": \"Vitamin D3\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"100\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"DR. EHRENSTORFER GMBH\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 176.0,\r\n                \"deliveryTime\": \"40 Dias\",\r\n                \"deliveryTimeDays\": 40.0,\r\n                \"deliveryTimeDate\": \"2024-09-05T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"b972239d-f2e8-40bc-8919-002998e69c2f\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"665-66-7\",\r\n            \"atc\": null,\r\n            \"catalog\": \"665-66-7\",\r\n            \"description\": \"SRef-FEUM de Clorhidrato de Amantadina\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"300.000000\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"feum\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"FEUM\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 72.0,\r\n                \"deliveryTime\": \"7 Dias\",\r\n                \"deliveryTimeDays\": 7.0,\r\n                \"deliveryTimeDate\": \"2024-07-22T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": true,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"062d826d-8930-4eb6-8201-0029be9aeb7b\",\r\n            \"hasCAS\": null,\r\n            \"cas\": \"\",\r\n            \"atc\": null,\r\n            \"catalog\": \"61500-500\",\r\n            \"description\": \"Narrow Mouth Reagent Storage Bottles with Standard Taper Stopper 500 ML\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"1\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": null,\r\n            \"type\": \"Labware\",\r\n            \"typeKey\": \"labware\",\r\n            \"brandName\": \"PYREX\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 96.0,\r\n                \"deliveryTime\": \"20 Dias\",\r\n                \"deliveryTimeDays\": 20.0,\r\n                \"deliveryTimeDate\": \"2024-08-08T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"f929418b-7f30-4f27-b039-0029c96590aa\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"123-63-7\",\r\n            \"atc\": null,\r\n            \"catalog\": \"DUPLICADO-1496959\",\r\n            \"description\": \"Paraldehyde CIV (3 x 1.5 mL)\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"4.5\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"USP\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"USP\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 0.0,\r\n                \"deliveryTime\": null,\r\n                \"deliveryTimeDays\": 0.0,\r\n                \"deliveryTimeDate\": null,\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"af936e36-cf21-49d1-b408-002bf334ee3f\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"N/D\",\r\n            \"atc\": null,\r\n            \"catalog\": \"C1350000\",\r\n            \"description\": \"Chloramphenicol disodium disuccinate CRS\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"45 mg\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"ep\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"EP\",\r\n            \"hasExpressFreight\": false,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 198.0,\r\n                \"deliveryTime\": \"25 Dias\",\r\n                \"deliveryTimeDays\": 25.0,\r\n                \"deliveryTimeDate\": \"2024-08-15T00:00:00.000-06:00Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"5e2009b0-27c8-419f-9dea-002ed6582987\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"\",\r\n            \"atc\": null,\r\n            \"catalog\": \"1295709\",\r\n            \"description\": \"Glyceryl Dibehenate (200 mg) (Glyceryl dibehenate)\",\r\n            \"presentationType\": null,\r\n            \"presentationTypeKey\": null,\r\n            \"presentation\": \"200\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"USP\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"USP\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 418.0,\r\n                \"deliveryTime\": \"10 Dias\",\r\n                \"deliveryTimeDays\": 10.0,\r\n                \"deliveryTimeDate\": \"2024-08-01T00:00:00.000Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"93d6614b-168c-4ace-95f7-002ee2488cc7\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"5579-84-0\",\r\n            \"atc\": null,\r\n            \"catalog\": \"1065618\",\r\n            \"description\": \"Betahistine Hydrochloride (200 mg)\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"200\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"USP\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"USP\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 337.0,\r\n                \"deliveryTime\": \"10 Dias\",\r\n                \"deliveryTimeDays\": 10.0,\r\n                \"deliveryTimeDate\": \"2024-08-01T00:00:00.000Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        },\r\n        {\r\n            \"idProduct\": \"8a5fe89f-414f-41e0-909b-002f1d25fec5\",\r\n            \"hasCAS\": true,\r\n            \"cas\": \"8009-03-8\",\r\n            \"atc\": null,\r\n            \"catalog\": \"1514900\",\r\n            \"description\": \"Petrolatum (200 mg)\",\r\n            \"presentationType\": \"Vial\",\r\n            \"presentationTypeKey\": \"vial\",\r\n            \"presentation\": \"200\",\r\n            \"isbn\": null,\r\n            \"brandImageName\": \"USP\",\r\n            \"type\": \"Estándares\",\r\n            \"typeKey\": \"estandares\",\r\n            \"brandName\": \"USP\",\r\n            \"hasExpressFreight\": true,\r\n            \"hasStock\": false,\r\n            \"aboutToExpire\": false,\r\n            \"existingStockQuantity\": null,\r\n            \"stockExpirationDate\": null,\r\n            \"estimatedDeliveryTimeStock\": null,\r\n            \"controlled\": false,\r\n            \"offert\": {\r\n                \"pieces\": 1.0,\r\n                \"unitPrice\": 0.0,\r\n                \"deliveryTime\": \"10 Dias\",\r\n                \"deliveryTimeDays\": 10.0,\r\n                \"deliveryTimeDate\": \"2024-08-01T00:00:00.000Z\",\r\n                \"appliesPerPiece\": false,\r\n                \"idDeliveryAddress\": \"48171366-5737-48d3-b758-9f5edb4cdb9b\"\r\n            }\r\n        }\r\n    ]\r\n}";

            QueryResultVD<ProductDetails> result = JsonConvert.DeserializeObject<QueryResultVD<ProductDetails>>( json );
            return Ok( result );
        }
        
        [HttpPost( "/ProductWeb/Search" )]
        public async Task<ActionResult<List<ProductCustomerWebSearchSuggestionResponse>>> Search( [FromBody] ProductCustomerWebSearchSuggestionRequest request )
        {
            var json = "[{\"idProducto\":\"cc966d7f-84b6-4744-a7d1-642da9fd0643\",\"description\":\"Atorvastatin EP Impurity H (Atorvastatin Lactone)\"},{\"idProducto\":\"0776d847-4cbd-4fb8-a02e-efa36135cad6\",\"description\":\"Atorvastatin Acid - Impurity C\"},{\"idProducto\":\"0970ed8f-9123-4ece-ba80-aedf6cb0c8a7\",\"description\":\"Atorvastatin Acid - API\"},{\"idProducto\":\"0bd8fdc9-4f01-44b0-8a9c-15b5a386a645\",\"description\":\"Atorvastatin EP Impurity E\"},{\"idProducto\":\"14bad839-29b8-4d6f-a062-c96bc2032130\",\"description\":\"Atorvastatin Acid - Impurity H\"},{\"idProducto\":\"14d0f333-6753-4b33-a804-72426b024596\",\"description\":\"Atorvastatin Related Compound D\"},{\"idProducto\":\"18c3befe-219e-4f5c-93ab-7cc49c1c60c3\",\"description\":\"rac-3-Oxo Atorvastatin Sodium Salt\"}]";
            List<ProductCustomerWebSearchSuggestionResponse> productsResult = JsonConvert.DeserializeObject<List<ProductCustomerWebSearchSuggestionResponse>>( json );
            return Ok( productsResult );
        }
    }
}
