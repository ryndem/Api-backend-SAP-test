//using Core.CrudTools.Optimization;
using Proxy.ProquifaDotNet.CrudTools;
using Proxy.ProquifaDotNet.Model;
using Logic.VentaDigitalPQF.Interfaces;
using Microsoft.AspNetCore.Authentication.JwtBearer;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;
using Core.VentaDigitalPQF.Dto.Product;
using Core.VentaDigitalPQF.ExceptionHandler;
using Logic.VentaDigitalPQF.Interfaces.Product;
using Core.VentaDigitalPQF.Dto.ProductCustomer;
using Core.VentaDigitalPQF.CrudTools;
using Core.VentaDigitalPQF.Dto.Address;
using Newtonsoft.Json;
using Core.VentaDigitalPQF.Dto.ProductCustomer.SearchSuggestion;

// For more information on enabling Web API for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860

namespace VentaDigitalPQF.Controllers.Producto
{
    [Route( "[controller]" )]
    [ApiController]
    //[Authorize]
    
    public class ProductCustomerController : ControllerBase
    {
        
        private readonly IProductCustomerService _productCustomerService;
        public ProductCustomerController( IProductCustomerService productCustomerService )
        {
            _productCustomerService = productCustomerService;
        }

        // GET api/<Producto>/Guid

        /// <summary>
        /// Obtiene datos de un producto para un cliente logueado
        /// </summary>
        /// <param name="IdProduct">Id del producto</param>
        /// <param name="IdCustomer">Id del Cliente</param>
        /// <param name="IdDeliveryAddress">Ide de Direccion de Entrega</param>
        /// <returns>Retorna Detalles de producto con su oferta</returns>
        /// <remarks>
        /// Sample request:
        ///
        ///     GET /Producto/IdProduct
        ///     {
        ///        
        ///     }
        ///
        /// </remarks>
        /// <response code="201">Retorna objeto de producto</response>
        /// <response code="400">No se encuentra el objeto producto</response>

        [HttpGet( "{IdProduct}/{IdCustomer}/{IdDeliveryAddress}" )]
        public async Task<ActionResult<ProductCustomerDetails>> Get( Guid IdProduct, Guid IdCustomer, Guid IdDeliveryAddress )
        {
            var json = "{\"idProduct\":\"7357ceb9-eeae-4394-b538-01a3970863a3\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"24729-96-2\",\"atc\":null,\"catalog\":\"PHR1021-1G\",\"description\":\"Clindamycin Phosphate, Pharmaceutical Secondary Standard; Certified Reference Material\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"1\",\"transportationMeans\":\"Aéreo\",\"transportationMeansKey\":\"aereo\",\"transportHandling\":\"Ambiente\",\"transportHandlingKey\":\"ambiente\",\"storageHandling\":\"Ambiente\",\"storageHandlingKey\":\"ambiente\",\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"SUPELCO\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"offert\":{\"pieces\":1.0,\"unitPrice\":4278.0,\"deliveryTime\":\"20 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}}";
            ProductCustomerDetails productos = JsonConvert.DeserializeObject<ProductCustomerDetails>( json );
            return Ok(  productos );
        }

        /// <summary>
        /// Obtiene datos de un producto para un cliente logueado
        /// </summary>
        /// <param name="QueryInfoVD">Objeto donde se pasa los filtros, ordenamiento, Tamaño del listado y el numero de pagina</param>
        /// <param name="IdCustomer">Id del Cliente</param>
        /// <param name="IdDeliveryAddress">Ide de Direccion de Entrega</param>
        /// <returns>Retorna Listado de producto con su oferta de cliente logueado</returns>
        /// <remarks>
        /// Sample request:
        ///
        ///     GET /Producto/1144AA2F-FBB9-42E5-84A1-9CCEE9C4E038/1AF64B94-F3B8-4C10-B565-015B828197D7
        ////    {
        ////        "Filters": [
        ////            {
        ////                "NombreFiltro": "Descripcion",
        ////                "ValorFiltro": "Paracetamol"
        ////            }
        ////        ],
        ////        "GroupColumn": "",
        ////        "pageSize": 9,
        ////        "desiredPage": 1
        ////    }
        ///
        /// </remarks>
        /// <response code="201">Retorna lista  de producto</response>
        /// <response code="400">No se encuentra el objeto producto</response>
    [HttpPost( "{IdCustomer}/{IdDeliveryAddress}" )]
        public async Task<ActionResult<QueryResultVD<ProductCustomerDetails>>> Post( QueryInfoVD info, Guid IdCustomer, Guid IdDeliveryAddress )
        {
            /*
            var producto = await _productCustomerService.GetProducts( info, new ProductCustomerRequest() { IdProduct = null, IdCustomer = IdCustomer, IdDeliveryAddress = IdDeliveryAddress } );
            return Ok( producto );
            */
            var json = "{\"totalResults\":33393,\"results\":[{\"idProduct\":\"db94c77e-b630-40c1-b83b-0000109bb1ad\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"99300-78-4\",\"atc\":null,\"catalog\":\"V-031-50MG\",\"description\":\"Venlafaxine HCl\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"50.000000\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"tlc\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"TLC\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":\"N/A\",\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":675.0,\"deliveryTime\":\"20 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"cce35d32-02e5-4622-8cfd-00027c6e905d\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"103-90-2\",\"atc\":null,\"catalog\":\"371\",\"description\":\"paracetamol\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"100\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"BP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":417.0,\"deliveryTime\":\"30 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"35da260e-86f0-477a-8240-0003cf3bff39\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"120-71-8\",\"atc\":null,\"catalog\":\"N-10389-250MG\",\"description\":\"2-Methoxy-5-methylaniline\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"250.000000\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"CHEMSERVICE\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":\"N/A\",\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":93.0,\"deliveryTime\":\"25 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":true,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"18e66bb1-15a4-41a0-a854-0005c711af7e\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"\",\"atc\":null,\"catalog\":\"1005-185\",\"description\":\"Grade 5 Qualitative Filter Paper Standard Grade, circle, 185 mm\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"100\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Labware N/A N/A\",\"type\":\"Labware\",\"typeKey\":\"labware\",\"brandName\":\"WHATMAN\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":78.0,\"deliveryTime\":\"30 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"cb5cf4bc-4cb5-44cf-b6f3-0009cc142a3c\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"867-81-2\",\"atc\":null,\"catalog\":\"PA 19 58000-25MG\",\"description\":\"Sodium Pantothenate - API\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"25.000000\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"pharmaffiliates\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"PHARMAFFILIATES\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":\"N/A\",\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":324.0,\"deliveryTime\":\"30 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"6104f63c-7b70-4de9-ae6b-000b61ddce46\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"100-02-7\",\"atc\":null,\"catalog\":\"1003064\",\"description\":\"Acetaminophen Related Compound F (50 mg) (p-nitrophenol)\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"50\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"USP\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"USP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":1036.0,\"deliveryTime\":\"10 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"3214c6e3-726e-49d3-99de-000df3773376\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"65-85-0\",\"atc\":null,\"catalog\":\"Y0001470\",\"description\":\"Benzoic acid CRS\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"30 mg\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"ep\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"EP\",\"availability\":null,\"availabilityKey\":null,\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":198.0,\"deliveryTime\":\"25 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"1cae79f2-2288-4802-8acd-00103c888a93\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"6533-68-2\",\"atc\":null,\"catalog\":\"H1500000\",\"description\":\"Hyoscine hydrobromide CRS\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"50 mg\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"ep\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"EP\",\"availability\":null,\"availabilityKey\":null,\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":198.0,\"deliveryTime\":\"25 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"fe9ee636-6681-4550-bf1f-00135cdf9952\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"67-68-5\",\"atc\":null,\"catalog\":\"D479380-250ML+HPLC\",\"description\":\"Dimethyl Sulfoxide + HPLC por molécula\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"250.000000\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"toronto_research_chemicals_inc_\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"TORONTO RESEARCH CHEMICALS INC.\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":\"N/A\",\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":183.0,\"deliveryTime\":\"30 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"d1fb9b1d-c63e-4874-aa6f-0015c73ff6ce\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"823817-58-9\",\"atc\":null,\"catalog\":\"S060010A-100MG\",\"description\":\"Sitagliptin S-Isomer Phosphate\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"100.000000\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"SIMSON\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":\"N/A\",\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":851.0,\"deliveryTime\":\"22 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":true,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"13642521-188a-446c-961a-001627fe3543\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"5714-73-8\",\"atc\":null,\"catalog\":\"1409502\",\"description\":\"Methenamine Hippurate (200 mg)\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"200\",\"transportationMeans\":\"Aéreo\",\"transportationMeansKey\":\"aereo\",\"transportHandling\":\"Ambiente\",\"transportHandlingKey\":\"ambiente\",\"storageHandling\":\"Ambiente\",\"storageHandlingKey\":\"ambiente\",\"isbn\":null,\"brandImageName\":\"USP\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"USP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"farmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":378.0,\"deliveryTime\":\"10 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"1fcf41ca-b6f2-4799-ba8d-0019064f3cc9\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"N/A\",\"atc\":null,\"catalog\":\"894\",\"description\":\"Budesonide impurity standard\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"10\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":\"Congelación\",\"transportHandlingKey\":\"congelacion\",\"storageHandling\":\"Congelación\",\"storageHandlingKey\":\"congelacion\",\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"BP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":362.0,\"deliveryTime\":\"30 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"a5f77480-23e1-4e88-8158-001bfe8abe75\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"N/D\",\"atc\":null,\"catalog\":\"08502\",\"description\":\"1,10-FENANTROLINA A.C.S.\",\"presentationType\":\"Frasco\",\"presentationTypeKey\":\"frasco\",\"presentation\":\"5\",\"transportationMeans\":\"Aéreo\",\"transportationMeansKey\":\"aereo\",\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Reactivos Químico Normal\",\"type\":\"Reactivos\",\"typeKey\":\"reactivos\",\"brandName\":\"FERMONT\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"nofarmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":86.0,\"deliveryTime\":\"12 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"0cb87d86-286d-4e50-bd07-001d70038c62\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"N/D\",\"atc\":null,\"catalog\":\"1A04180\",\"description\":\"N-Nitroso Quinapril Solution (1 mL (1 mg/mL)) ((S)-2-(N-((S)-1-ethoxy-1-oxo-4-phenylbutan-2-yl)-N-nitroso-L-alanyl)-1,2,3,4-tetrahydroisoquinoline-3-carboxylic acid)\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"1\",\"transportationMeans\":\"Aéreo\",\"transportationMeansKey\":\"aereo\",\"transportHandling\":\"Ambiente\",\"transportHandlingKey\":\"ambiente\",\"storageHandling\":\"Ambiente\",\"storageHandlingKey\":\"ambiente\",\"isbn\":null,\"brandImageName\":\"USP\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"USP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"farmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":591.0,\"deliveryTime\":\"10 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"1dd347c3-9eb4-4ea7-b5ea-001f168706bb\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\" \",\"atc\":null,\"catalog\":\"QCS-23-100\",\"description\":\"23 Component ICP QC Standard in 5% HNO3\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"100.000000\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"HIGH PURITY\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":\"N/A\",\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":579.0,\"deliveryTime\":\"25 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"0b991755-287b-4f36-852c-002122212a15\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"117810-61-4\",\"atc\":null,\"catalog\":\"L-1027-100MG\",\"description\":\"Desloratadine USP Related Compound F (N-Formyl Desloratadine)\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"100\",\"transportationMeans\":\"Aéreo\",\"transportationMeansKey\":\"aereo\",\"transportHandling\":\"Ambiente\",\"transportHandlingKey\":\"ambiente\",\"storageHandling\":\"Ambiente\",\"storageHandlingKey\":\"ambiente\",\"isbn\":null,\"brandImageName\":\"tlc\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"TLC\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"nofarmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":1283.0,\"deliveryTime\":\"20 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"647aa59e-54f7-4de4-baa1-00217314300b\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"67-97-0\",\"atc\":null,\"catalog\":\"DRE-CA17924000\",\"description\":\"Vitamin D3\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"100\",\"transportationMeans\":\"Aéreo\",\"transportationMeansKey\":\"aereo\",\"transportHandling\":\"Ambiente\",\"transportHandlingKey\":\"ambiente\",\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"DR. EHRENSTORFER GMBH\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"nofarmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":176.0,\"deliveryTime\":\"40 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"b972239d-f2e8-40bc-8919-002998e69c2f\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"665-66-7\",\"atc\":null,\"catalog\":\"665-66-7\",\"description\":\"SRef-FEUM de Clorhidrato de Amantadina\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"300.000000\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":\"Ambiente\",\"transportHandlingKey\":\"ambiente\",\"storageHandling\":\"Ambiente\",\"storageHandlingKey\":\"ambiente\",\"isbn\":null,\"brandImageName\":\"feum\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"FEUM\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":\"N/A\",\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":72.0,\"deliveryTime\":\"7 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":true,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"062d826d-8930-4eb6-8201-0029be9aeb7b\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":null,\"cas\":\"\",\"atc\":null,\"catalog\":\"61500-500\",\"description\":\"Narrow Mouth Reagent Storage Bottles with Standard Taper Stopper 500 ML\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"1\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":null,\"familyName\":\"Labware N/A N/A\",\"type\":\"Labware\",\"typeKey\":\"labware\",\"brandName\":\"PYREX\",\"availability\":\"BackOrder\",\"availabilityKey\":\"backorder\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":96.0,\"deliveryTime\":\"20 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"f929418b-7f30-4f27-b039-0029c96590aa\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"123-63-7\",\"atc\":null,\"catalog\":\"DUPLICADO-1496959\",\"description\":\"Paraldehyde CIV (3 x 1.5 mL)\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"4.5\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"USP\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"USP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":0.0,\"deliveryTime\":null,\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"af936e36-cf21-49d1-b408-002bf334ee3f\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"N/D\",\"atc\":null,\"catalog\":\"C1350000\",\"description\":\"Chloramphenicol disodium disuccinate CRS\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"45 mg\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"ep\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"EP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":false,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"farmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":198.0,\"deliveryTime\":\"25 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"5e2009b0-27c8-419f-9dea-002ed6582987\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"\",\"atc\":null,\"catalog\":\"1295709\",\"description\":\"Glyceryl Dibehenate (200 mg) (Glyceryl dibehenate)\",\"presentationType\":null,\"presentationTypeKey\":null,\"presentation\":\"200\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"USP\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"USP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":null,\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":418.0,\"deliveryTime\":\"10 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"93d6614b-168c-4ace-95f7-002ee2488cc7\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"5579-84-0\",\"atc\":null,\"catalog\":\"1065618\",\"description\":\"Betahistine Hydrochloride (200 mg)\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"200\",\"transportationMeans\":\"Aéreo\",\"transportationMeansKey\":\"aereo\",\"transportHandling\":\"Ambiente\",\"transportHandlingKey\":\"ambiente\",\"storageHandling\":\"Ambiente\",\"storageHandlingKey\":\"ambiente\",\"isbn\":null,\"brandImageName\":\"USP\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"USP\",\"availability\":\"Disponible\",\"availabilityKey\":\"disponible\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"farmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":337.0,\"deliveryTime\":\"10 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}},{\"idProduct\":\"8a5fe89f-414f-41e0-909b-002f1d25fec5\",\"idCustomer\":\"c447a771-420a-4cee-ab52-a20e9dade1d9\",\"hasCAS\":true,\"cas\":\"8009-03-8\",\"atc\":null,\"catalog\":\"1514900\",\"description\":\"Petrolatum (200 mg)\",\"presentationType\":\"Vial\",\"presentationTypeKey\":\"vial\",\"presentation\":\"200\",\"transportationMeans\":null,\"transportationMeansKey\":null,\"transportHandling\":null,\"transportHandlingKey\":null,\"storageHandling\":null,\"storageHandlingKey\":null,\"isbn\":null,\"brandImageName\":\"USP\",\"familyName\":\"Estándares Químico Normal\",\"type\":\"Estándares\",\"typeKey\":\"estandares\",\"brandName\":\"USP\",\"availability\":\"No Comercializable\",\"availabilityKey\":\"nocomercializable\",\"line\":null,\"unit\":null,\"purity\":null,\"hasExpressFreight\":true,\"hasStock\":false,\"aboutToExpire\":false,\"existingStockQuantity\":null,\"stockExpirationDate\":null,\"estimatedDeliveryTimeStock\":null,\"usageKey\":\"farmacopeico\",\"controlled\":false,\"offert\":{\"pieces\":1.0,\"unitPrice\":0.0,\"deliveryTime\":\"10 Dias\",\"deliveryTimeDays\":0.0,\"deliveryTimeDate\":null,\"appliesPerPiece\":false,\"idDeliveryAddress\":\"1af64b94-f3b8-4c10-b565-015b828197d7\"}}]}";
                QueryResultVD<ProductCustomerDetails> result = JsonConvert.DeserializeObject<QueryResultVD<ProductCustomerDetails>>( json );
                return Ok( result );

        }
        [HttpPost( "/ProductCustomer/Search" )]
        public async Task<ActionResult<List<ProductCustomerSearchSuggestionResponse>>> Search( [FromBody] ProductCustomerSearchSuggestionRequest request )
        {
            var json = "[{\"idProducto\":\"17aed2fc-2b6d-4009-957d-6c137fc74c09\",\"description\":\"Clindamycin\"},{\"idProducto\":\"1b3394e8-a78c-4865-a291-2910d81af69f\",\"description\":\"Clindamycin\"},{\"idProducto\":\"8ded262e-9b79-44b3-b634-2569fa0922a1\",\"description\":\"Clindamycin\"},{\"idProducto\":\"a803ece4-ff3f-4985-bf89-65148aa77db1\",\"description\":\"Clindamycin\"},{\"idProducto\":\"f8631d3d-5a54-4130-b588-e4fb1c2fd610\",\"description\":\"Clindamycin\"},{\"idProducto\":\"0d75408f-5fe5-4452-b1ed-2d6160fe3f64\",\"description\":\"Clindamycin Sulfoxide\"},{\"idProducto\":\"29e49d2e-6553-4a98-b73d-067080fecd5d\",\"description\":\"Clindamycin HCl\"}]";
            List<ProductCustomerSearchSuggestionResponse> productsResult = JsonConvert.DeserializeObject<List<ProductCustomerSearchSuggestionResponse>>( json );
            return Ok( productsResult );
        }
    }
}
